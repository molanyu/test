
import java.awt.Button;
import java.awt.FlowLayout;
import java.awt.Label;
import java.awt.TextField;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

import javax.swing.JFrame;

public class ComputerJFrame extends JFrame implements ActionListener {
   TextField textOne, textTwo, textResult;
   Button getProblem, giveAnswer;
   Label operatorLabel, message;
   Teacher teacher;

   ComputerJFrame(String s) {
      super(s);
      teacher = new Teacher();
      setLayout(new FlowLayout());
      textOne = new TextField(10); // ????textOne,???????????10
      textTwo = new TextField(10); // ????textTwo,???????????10
      textResult = new TextField(10); // ????textResult,???????????10
      operatorLabel = new Label("+"); // ???? operatorLabel????????+??
      message = new Label("????§Ý????"); // ????message????????????§Ý?????
      getProblem = new Button("??????"); // ????getProblem????????????????
      giveAnswer = new Button("????"); // ????giveAnswer?????????????
      add(getProblem);
      add(textOne);
      add(operatorLabel);
      add(textTwo);
      add(new Label("="));
      add(textResult);
      add(giveAnswer);
      add(message);// ?????????????????
      textResult.requestFocus();// textResult ??????
      textOne.setEditable(false);
      textTwo.setEditable(false);// textOne????textOne??textTwo?????
      getProblem.addActionListener(this);// ?????????????getProblem??ActionEvent?????????
      giveAnswer.addActionListener(this);// ?????????????giveAnwser??ActionEvent?????????
      textResult.addActionListener(this);// ?????????????textResult??ActionEvent?????????
      setBounds(100, 100, 450, 100);// ???¨®?????????????¦Ë???x=100,y=100,width=450,height=100
      setLocationRelativeTo(null);// ?????????????
      setVisible(true);// ?????????????
      validate();
      addWindowFocusListener(new WindowAdapter() {
         public void windowClosing(WindowEvent e) {
            System.exit(0);
         }
      });
   }

   public void actionPerformed(ActionEvent e) {
      if (e.getSource() == getProblem)// ??????????????? ??
      {
         int number1 = teacher.giveNumberOne(100);// ?????????????????
         int number2 = teacher.giveNumberTwo(100);// ?????????????????
         String operator = teacher.giveOperator();// ????????
         textOne.setText("" + number1);
         textTwo.setText("" + number2);
         textResult.setText(null);
         operatorLabel.setText(operator);
         message.setText("????");// ??????¦Í?????????????????????????????textOne,textTwo,textResult??operatorLabel,message
      }
      if (e.getSource() == giveAnswer)// ????????????? ??
      {
         String answer = textResult.getText();// ????????????????
         try {
            int result = Integer.parseInt(answer);
            if (teacher.getRight(result) == true) {
               message.setText("???????");// ??????????message??????????????????????????????????????
            } else {
               message.setText("???????");
            }
         } catch (NumberFormatException ex) {
            message.setText("?????????????");// ????????????????????????????????????
         }
      }
      textResult.requestFocus();// textResult ??????
      validate();
   }
}
